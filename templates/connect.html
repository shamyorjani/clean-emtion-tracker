<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Spline+Sans%3Awght%40400%3B500%3B700"
    />

    <title>Galileo Design</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>
  <body>
    <div
      class="relative flex size-full min-h-screen flex-col bg-[#121421] dark group/design-root overflow-x-hidden"
      style="font-family: 'Spline Sans', 'Noto Sans', sans-serif"
    >
      <div class="layout-container flex h-full grow flex-col">
        <div class="px-40 flex flex-1 justify-center py-5 2xl:pt-16">
          
          <section class="text-white body-font">
            <div
              class="container mx-auto flex px-5 py-24 md:flex-row flex-col items-center"
            >
              <div class="lg:max-w-lg lg:w-full md:w-1/2 w-5/6 mb-10 md:mb-0">
                <img
                  class="object-cover object-center rounded"
                  alt="hero"
                  src="{{url_for('static',filename='images/con3.jpeg')}}"
                />
              </div>
              <div
                class="lg:flex-grow md:w-1/2 lg:pl-24 md:pl-16 flex flex-col md:items-start md:text-left items-center text-center"
              >
                <h1
                  class="title-font sm:text-4xl text-3xl mb-4 font-medium text-white"
                >
                  Music for every mood
                  <br class="hidden lg:inline-block" />(EBMP)
                </h1>
                <p class="mb-8 leading-relaxed">
                  Welcome to MoodWave, the world's best music streaming service!
                  Discover a wide variety of tracks tailored to your current
                  mood and start listening now. Let your emotions guide your
                  playlist and enjoy a personalized musical journey like never
                  before. Connect now and feel the harmony with MoodWave!
                </p>
                <div class="flex justify-center">
                  <button id="connect-button"
                    class="inline-flex text-black bg-[#dc2626] border-0 py-2 px-6 focus:outline-none hover:bg-red-900 hover:text-white rounded text-lg"
                  >
                    Connect
                  </button>
                </div>
              </div>
            </div>
          </section>
          <script>
            document
              .querySelector("#connect-button")
              .addEventListener("click", connectToSpotify);

      if (window.location.href.includes("connection")) {
        connectToSpotify();
      }
      async function connectToSpotify() {
        const clientId = "23ab69c678df492d958a9220fb60bfe9";
        const redirectUri = "http://localhost:5000/callback";
        const scope =
          "playlist-read-private user-top-read user-read-private user-read-email user-read-recently-played user-read-currently-playing user-modify-playback-state user-read-playback-state streaming playlist-modify-public playlist-modify-private ugc-image-upload"; // Add additional scopes if needed

        const authUrl = `https://accounts.spotify.com/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${encodeURIComponent(
          scope
        )}&response_type=token`;

        localStorage.setItem("sessionStartTime", Date.now());

        window.location.href = authUrl;
      }
    </script>
  </body>
</html>
